====================
Fix SSH
====================
Disable network and wifi on khadas/ubuntu
and run the following command in the terminal
sudo ifconfig eth0 192.168.178.139 netmask 255.255.255.0 up


====================
SUMMARY
====================
1. CONVERSION: is performed under the SDK on Ubuntu host i.e., sajjad@teco:~/sajjad/npusdk2/aml_npu_sdk/acuity-toolkit/demo
Compile And Get The Case Code
1.1. Compile: Using 3 Bash Scripts
1.2. Converted Case Code: nbg_unify_yolov3 folder which contains the *.h, *.c an *.nb files

2.REPLACE VNN FILE
Replace vnn_yolov3.h, vnn_post_process.h, vnn_pre_process.h & vnn_yolov3.c generated by SDK on Ubuntu from nbg_unify_yolov3 to khadas detect_yolo_v3
	from:
	sajjad@teco:~/sajjad/npusdk2/aml_npu_sdk/acuity-toolkit/demo/nbg_unify_yolov3
	to:
	khadas@Khadas-teco:~/sajjad/NPUApp/aml_npu_app/detect_library/model_code/detect_yolo_v3$

3.COMPILE YOLO3 LIBRARY
3.1. Use the build_vx.sh script to compile the yolov3 library
inside khadas@Khadas-teco:~/sajjad/NPUApp/aml_npu_app/detect_library/model_code/detect_yolo_v3$
3.2. generated library libnn_yolo_v3.so is in the bin_r directory

4. REPLACE THE MODEL AND LIBRARY
4.1. Copy the generated libnn_yolo_v3.so and yolov3.nb into aml_npu_demo_binaries/detect_demo_picture lib and nn_data folders.
	from:
	sajjad@teco:~/sajjad/npusdk2/aml_npu_sdk/acuity-toolkit/demo/nbg_unify_yolov3/yolov3.nb
	to 
	khadas@Khadas-teco:~/sajjad/npu1/aml_npu_demo_binaries/detect_demo_picture/nn_data/yolov3.nb
	from:
	khadas@Khadas-teco:~/sajjad/NPUApp/aml_npu_app/detect_library/model_code/detect_yolo_v3/bin_r/libnn_yolo_v3.so
	to 
	khadas@Khadas-teco:~/sajjad/npu1/aml_npu_demo_binaries/detect_demo_picture/lib/libnn_yolo_v3.so

4.2. Rename yolov3.nb as yolov3_88.nb

5. RUN THE YOLO3 APPLICATION
	khadas@Khadas-teco:~/sajjad/npu1/aml_npu_demo_binaries/detect_demo_picture$ ./detect_demo_x11 -m 2 -p ./1080p.bmp

====================
npusdk2 (basis YOLO3)
====================
- could not run the ./detect_demo_x11 -m 2 -p ./1080p.bmp
- even after generating basis model with shell scripts
- missing in the documentation taht --reorder-channel '2 1 0' for the 1_quantize_model.sh
- then changed the reorder-channel settings to 2 1 0 and then it works

====================
npusdk2_modifyq
====================
- changed the .quantize file again into npusdk2_modifyq, by just changing the max = 0.1 and min = 0 for output layers, 
- and it worked

====================
npusdk2_qtest1
====================
- changed --reorder-channel '2 1 0' for the 1_quantize_model.sh
- didn't work, gives error, see below

====================
npusdk2_qtest2
====================
- changed --reorder-channel '2 1 0' for the 1_quantize_model.sh
- didn't work, gives error, see below

====================
npusdk2_qtest3
====================
- changed --reorder-channel '2 1 0' for the 1_quantize_model.sh
- changed the .quantize file again by just changing the max and min for output layers and few layers at the end, 
- and it worked

====================
npusdk3 for lenet
====================
- executed shell script on host
- copied *.h *.c files into khadas
- compiled the library into *.so
- copied *.so and *.nb file into demo binaries
- run the ./detect_x11, but gives error, as shown below
- used printf() statements but there is no prints and application crashes again


====================
DETAILS
====================
====================
npusdk2_qtest1 DETAILS
====================
npusdk2_qtest1 changed --reorder-channel '2 1 0' for the 1_quantize_model.sh
============================================================================
khadas@Khadas-teco:~/sajjad/npu1/aml_npu_demo_binaries/detect_demo_picture_qtest2$ ./detect_demo_x11 -m 2 -p ./1080p.bmp
W Detect_api:[det_set_log_level:19]Set log level=1
W Detect_api:[det_set_log_level:21]output_format not support Imperfect, default to DET_LOG_TERMINAL
W Detect_api:[det_set_log_level:26]Not exist VSI_NN_LOG_LEVEL, Setenv set_vsi_log_error_level
det_set_log_config Debug
E [model_create:64]CHECK STATUS(-1:A generic error code, used when no other describes the error.)
E Detect_api:[det_set_model:225]Model_create fail, file_path=nn_data, dev_type=1
det_set_model fail. ret=-4
khadas@Khadas-teco:~/sajjad/npu1/aml_npu_demo_binaries/detect_demo_picture_qtest2$


====================
npusdk2_qtest2 DETAILS
====================
npusdk2_qtest2 changed --reorder-channel '2 1 0' for the 1_quantize_model.sh
============================================================================
khadas@Khadas-teco:~/sajjad/npu1/aml_npu_demo_binaries/detect_demo_picture_qtest2$ ./detect_demo_x11 -m 2 -p ./1080p.bmp
W Detect_api:[det_set_log_level:19]Set log level=1
W Detect_api:[det_set_log_level:21]output_format not support Imperfect, default to DET_LOG_TERMINAL
W Detect_api:[det_set_log_level:26]Not exist VSI_NN_LOG_LEVEL, Setenv set_vsi_log_error_level
det_set_log_config Debug
E [model_create:64]CHECK STATUS(-1:A generic error code, used when no other describes the error.)
E Detect_api:[det_set_model:225]Model_create fail, file_path=nn_data, dev_type=1
det_set_model fail. ret=-4
khadas@Khadas-teco:~/sajjad/npu1/aml_npu_demo_binaries/detect_demo_picture_qtest2$



====================
npusdk2_qtest3 DETAILS
====================
npusdk2_qtest3 changed --reorder-channel '2 1 0' for the 1_quantize_model.sh
============================================================================
khadas@Khadas-teco:~/sajjad/npu1/aml_npu_demo_binaries/detect_demo_picture_qtest2$ ./detect_demo_x11 -m 2 -p ./1080p.bmp
W Detect_api:[det_set_log_level:19]Set log level=1
W Detect_api:[det_set_log_level:21]output_format not support Imperfect, default to DET_LOG_TERMINAL
W Detect_api:[det_set_log_level:26]Not exist VSI_NN_LOG_LEVEL, Setenv set_vsi_log_error_level
det_set_log_config Debug
det_set_model success!!

model.width:608
model.height:608
model.channel:3

Det_set_input START
Det_set_input END
Det_get_result START
Det_get_result END

resultData.detect_num=1
result type is 2
i:1 left:0 right:1920 top:541.875 bottom:992.862
khadas@Khadas-teco:~/sajjad/npu1/aml_npu_demo_binaries/detect_demo_picture_qtest2$




====================
npusdk2 (basis YOLO3) DETAILS
====================

copied the files *.h *. c into inlcude and detect_yolo_v3_qtest3 then executed
===================================================

npusdk2 changed --reorder-channel '2 1 0' for the 1_quantize_model.sh
============================================================================
khadas@Khadas-teco:~/sajjad/NPUApp/aml_npu_app/detect_library/model_code/detect_yolo_v3_qtest3$ ll
total 92
drwxrwxr-x  4 khadas khadas  4096 May  9 18:59 ./
drwxrwxr-x 15 khadas khadas  4096 May  8 22:57 ../
drwxrwxr-x  2 khadas khadas  4096 May  9 19:01 bin_r/
-rwxrwxr-x  1 khadas khadas  9340 Apr 15 16:52 build_vx.sh*
drwxrwxr-x  2 khadas khadas  4096 May  8 20:43 include/
-rw-rw-r--  1 khadas khadas    36 May  9 19:01 linux_build_sample.log
-rw-rw-r--  1 khadas khadas  1340 Apr 15 16:52 makefile.linux
-rw-rw-r--  1 khadas khadas 16406 Apr 15 16:52 makefile.linux.def
-rw-rw-r--  1 khadas khadas    31 Apr 15 16:52 makefile.target_name
-rwxrwxrwx  1 khadas khadas  9856 May  9 21:41 vnn_yolov3.c*
-rw-rw-r--  1 khadas khadas  2579 Apr 15 16:52 yolo_v3.c
-rw-rw-r--  1 khadas khadas 12425 Apr 15 16:52 yolov3_process.c
khadas@Khadas-teco:~/sajjad/NPUApp/aml_npu_app/detect_library/model_code/detect_yolo_v3_qtest3$ ll include/
total 44
drwxrwxr-x 2 khadas khadas 4096 May  8 20:43 ./
drwxrwxr-x 4 khadas khadas 4096 May  9 18:59 ../
lrwxrwxrwx 1 khadas khadas   68 May  8 18:09 nn_detect_common.h -> ../../../../../detect_library/source_code/include/nn_detect_common.h
-rw-rw-r-- 1 khadas khadas  877 Apr 15 16:52 nn_detect.h
-rw-rw-r-- 1 khadas khadas  484 Apr 15 16:52 nn_detect_utils.h
-rw-rw-r-- 1 khadas khadas  772 Apr 15 16:52 vnn_global.h
-rwxrwxrwx 1 khadas khadas  572 May  9 21:41 vnn_post_process.h*
-rwxrwxrwx 1 khadas khadas 1646 May  9 21:41 vnn_pre_process.h*
-rwxrwxrwx 1 khadas khadas 1161 May  9 21:41 vnn_yolov3.h*
-rw-rw-r-- 1 khadas khadas  443 Apr 15 16:52 yolo_v3.h
-rw-rw-r-- 1 khadas khadas  332 Apr 15 16:52 yolov3_process.h
khadas@Khadas-teco:~/sajjad/NPUApp/aml_npu_app/detect_library/model_code/detect_yolo_v3_qtest3$ ./build_vx.sh
  COMPILE /home/khadas/sajjad/NPUApp/aml_npu_app/DDK_6.3.3.4/detect_library/model_code/detect_yolo_v3_qtest3/vnn_yolov3.c
vnn_yolov3.c: In function ‘vnn_CreateYolov3’:
vnn_yolov3.c:146:29: warning: unused variable ‘data’ [-Wunused-variable]
  146 |     uint8_t *               data;
      |                             ^~~~
At top level:
vnn_yolov3.c:94:17: warning: ‘load_data’ defined but not used [-Wunused-function]
   94 | static uint8_t* load_data
      |                 ^~~~~~~~~
make: Nothing to be done for 'all'.
khadas@Khadas-teco:~/sajjad/NPUApp/aml_npu_app/detect_library/model_code/detect_yolo_v3_qtest3$ ll bin_r/
total 68
drwxrwxr-x 2 khadas khadas  4096 May  9 21:41 ./
drwxrwxr-x 4 khadas khadas  4096 May  9 18:59 ../
-rwxrwxr-x 1 khadas khadas 28832 May  9 21:41 libnn_yolo_v3.so*
-rw-rw-r-- 1 khadas khadas  5720 May  9 21:41 vnn_yolov3.o
-rw-rw-r-- 1 khadas khadas  5632 Apr 23 07:14 yolo_v3.o
-rw-rw-r-- 1 khadas khadas 11496 Apr 23 07:14 yolov3_process.o
khadas@Khadas-teco:~/sajjad/NPUApp/aml_npu_app/detect_library/model_code/detect_yolo_v3_qtest3$


copied the .so and .nb files into lib and nn_dada then executed
===================================================
khadas@Khadas-teco:~/sajjad/npu1/aml_npu_demo_binaries/detect_demo_picture_qtest2$ ./detect_demo_x11 -m 2 -p ./1080p.bmp
W Detect_api:[det_set_log_level:19]Set log level=1
W Detect_api:[det_set_log_level:21]output_format not support Imperfect, default to DET_LOG_TERMINAL
W Detect_api:[det_set_log_level:26]Not exist VSI_NN_LOG_LEVEL, Setenv set_vsi_log_error_level
det_set_log_config Debug
det_set_model success!!

model.width:608
model.height:608
model.channel:3

Det_set_input START
Det_set_input END
Det_get_result START
Det_get_result END

resultData.detect_num=1
result type is 2
i:1 left:0 right:1920 top:541.875 bottom:992.862





===================================================
lenet
===================================================
khadas@Khadas-teco:~/sajjad/npu1/aml_npu_demo_binaries/detect_demo_picture_qtest2$ ./detect_demo_x11 -m 2 -p ./1080p.bmp
W Detect_api:[det_set_log_level:19]Set log level=1
W Detect_api:[det_set_log_level:21]output_format not support Imperfect, default to DET_LOG_TERMINAL
W Detect_api:[det_set_log_level:26]Not exist VSI_NN_LOG_LEVEL, Setenv set_vsi_log_error_level
det_set_log_config Debug
E [model_create:64]CHECK STATUS(-1:A generic error code, used when no other describes the error.)
E Detect_api:[det_set_model:225]Model_create fail, file_path=nn_data, dev_type=1
det_set_model fail. ret=-4
khadas@Khadas-teco:~/sajjad/npu1/aml_npu_demo_binaries/detect_demo_picture_qtest2$

